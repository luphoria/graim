[{"id":0,"href":"/docs/CONTRIBUTING/","title":"Contributing","parent":"Docs","content":"First off - thank you!\nThere are a few small ground rules to contributing to graim:\nformat your code with Prettier - if it makes a stupid formatting decision, feel free to add an exception to it use TypeScript, not JavaScript make sure your contributions do not needlessly complicate other parts of the bot "},{"id":1,"href":"/docs/","title":"Docs","parent":"graim","content":""},{"id":2,"href":"/","title":"graim","parent":"","content":"matrix \u0026lt;=\u0026gt; discord moderation with the power of matrix-appservice-discord\nSocial graim\u0026rsquo;s website is viewable at gra.im. You can join the graim Matrix space as well as the Discord server. *the main matrix room is @ #general:gra.im\nConfigure/Install Check out the configuration guide.\nTODOs Bug fixing Better guides Features moderation syncs across rooms Kick, ban + unban Mute Strike system Automatically attribute moderation history to graimdb Discord moderators may use whosent to discover what matrix user is behind a Discord message Userinfo command Database management commands (add/remove user, add/remove moderator) How graim is built with the intention of being Matrix-first. There are a few reasons for this:\nDiscord API sucks Discord webhooks have incredibly little data attributed to them I \u0026lt;3 Matrix Every Discord user, via matrix-appservice-discord, is given its own user (i.e. @_discord_\u0026lt;discord_id\u0026gt;:matrix.org. So, graim listens for commands only from Matrix users - because Discord users are Matrix users by proxy. Simply tie a server to a group of rooms, then tie each Matrix user to a Discord account packaged in one \u0026ldquo;graim user\u0026rdquo; :D\nCredits The bot itself - luphoria\nAny other contributors\nBuilt with major help from turt2live/matrix-bot-sdk-bot-template by Travis Ralston\nUses the dependencies:\nmatrix-bot-sdk discord.js escape-html config js-yaml Special thanks:\nHalfShot for matrix-appservice-discord for the Discord \u0026lt;-\u0026gt; Matrix bridge itself Travis Ralston for the tons of free resources which I used a LOT of "},{"id":3,"href":"/docs/setup/","title":"Setup","parent":"Docs","content":"If you want to run graim for your own community, this guide should be the one-stop spot to getting everything set up!\nPrerequisites some server (a PC that stays online will do fine) - must have node, git, npm a Discord account a Discord server one Matrix room for every Discord channel you would like to bridge Getting started First, you will need to create a Discord bot and a Matrix account (which the bot will use).\nAdd the bridge to your communities Follow the tutorial here. You may also run your own bridge, and it is supported; however, that is advanced and out of the scope of this tutorial\nDownload graim Open your terminal or command prompt and type these commands:\ngit clone https://github.com/luphoria/graim cd graim npm install Graim is now installed to your device - but now it needs some configuration.\nCreate the Discord bot Navigate to Discord\u0026rsquo;s application panel. Create a new application. Go to the Bot section, make note of the token and client ID - you\u0026rsquo;ll need them later. Make sure you have checked \u0026ldquo;Server Members Intent\u0026rdquo;! Create the Matrix bot user Create a Matrix account like any other. Give it whatever name you\u0026rsquo;d like. Enter the user settings and find the \u0026ldquo;Access Token\u0026rdquo;. Copy the access token. Do not share your access token. Treat it like your password. Configure graim To begin, you are going to need to run some commands.\ncp graimdb.json.example graimdb.json cd config/default.yaml.example default.yaml Now, open config/default.yaml in your preferred text editor.\nset accessToken to whatever your Matrix user\u0026rsquo;s access token is. set autoJoin to true (you will want to disable this after setup but it isn\u0026rsquo;t a big deal). Set discordToken to your Discord bot\u0026rsquo;s access token. Set discordClient to your Discord application\u0026rsquo;s \u0026ldquo;client ID\u0026rdquo; or \u0026ldquo;application ID\u0026rdquo;. Set discordGuild to the Discord guild (server) you want it to be active in. Set discordMutedRole to a role in aforementioned guild, which presumably prevents the user from speaking. Configure anything else you want given your situation. Graim is now ready for you to run it! Go back to your terminal, and run npm run start:dev.\nWait a few seconds, and you should see the bot is working!\nInvite graim Now, you have to actually add graim to the communities it is moderating.\nAdding the Discord bot Copy your Discord bot\u0026rsquo;s \u0026ldquo;application ID\u0026rdquo; or \u0026ldquo;client ID\u0026rdquo; (same variable as discordClient). Paste that ID in the following link: https://discordapp.com/api/oauth2/authorize?client_id=\u0026lt;YOUR CLIENT ID HERE\u0026gt;\u0026amp;scope=bot\u0026amp;permissions=8 Complete the steps as Discord autofills them. Once graim is in your server, ensure that the graim role in your roles list is placed higher than the muted role - otherwise, graim will crash if you try to mute. Adding the Matrix bot Invite the bot to every room needed, as you would any other user For each room, make the bot a Moderator (power level 50), and adjust Change permissions in the room to Moderator - this will allow it to change other users\u0026rsquo; power levels to -1, effectively muting them. Additionally, it is highly recommended you change Notify everyone to Admin - otherwise a user could potentially elevate their permissions via the bot to ping @room. Adding yourself to the moderator list In order to use any graim commands, you first need to be considered a moderator by graim itself.\nRun ;adduser \u0026lt;alias\u0026gt; @user:matrixexample.org @discorduser moderator from an Admin (power level 100) account on Matrix. NOTE: Any new moderators you add will also be able to run adduser - whether they have power level 100 or not.\ngraim-side room bridging In order for the lock command to function, you must run bridgeroom \u0026lt;discord channel id\u0026gt; in all rooms/channels.\nLogging room You will probably want a logging room. This can be a public or private room, but either way it must be bridged to Discord. To set a room as the designated logging room, run the command setloggingroom to implement it.\nLint Lastly, just make sure you\u0026rsquo;ve set everything up right! Run the command lint in any channel, and it will tell you any misconfigurations.\nCongratulations, you have set up graim!\n"},{"id":4,"href":"/tags/","title":"Tags","parent":"graim","content":""}]